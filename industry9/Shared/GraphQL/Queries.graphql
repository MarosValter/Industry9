query getDashboards() {
	dashboards {
		...DashboardLite
	}
}

query getDashboard($id: String!) {
    dashboard(id: $id) {
		...DashboardDetail
    }
}


query getWidgets() {
	widgets {
		...WidgetLite
	}
}

query getWidget($id: String!) {
    widget(id: $id) {
		...WidgetDetail
    }
}


query getDataSourceDefinitions() {
	dataSourceDefinitions {
		...DataSourceDefinitionLite
	}
}

query getDataSourceDefinition($id: String!) {
    dataSourceDefinition(id: $id) {
		...DataSourceDefinitionDetail
    }
}


query fetchRandomDataSourceProperties($id: String!) {
	fetchRandomPropertiesFromDataSource(dataSourceId: $id) {
		min,
		max
	}
}

query fetchQueryDataSourceProperties($id: String!) {
	fetchDataQueryPropertiesFromDataSource(dataSourceId: $id) {
		query
	}
}


mutation upsertDashboard($dashboard: DashboardInput!) {
  upsertDashboard(dashboard: $dashboard)
}

mutation deleteDashboard($id: String!) {
  deleteDashboard(id: $id)
}

mutation upsertWidget($widget: WidgetInput!) {
  upsertWidget(widget: $widget)
}

mutation deleteWidget($id: String!) {
  deleteWidget(id: $id)
}

mutation upsertDataSourceDefinition($definition: DataSourceDefinitionInput!) {
  upsertDataSourceDefinition(dataSourceDefinition: $definition)
}

mutation deleteDataSourceDefinition($id: String!) {
  deleteDataSourceDefinition(id: $id)
}

mutation assignRandomDataSourceProperties($definitionId: String!, $properties: RandomDataSourcePropertiesInput!) {
	assignRandomPropertiesToDataSource(dataSourceId: $definitionId properties: $properties)
}

mutation assignQueryDataSourceProperties($definitionId: String!, $properties: DataQueryDataSourcePropertiesInput!) {
	assignDataQueryPropertiesToDataSource(dataSourceId: $definitionId properties: $properties)
}


subscription onDataReceived($widgetId: String!) {
	onDataReceived(widgetId: $widgetId) {
		name,
		value
	}
}

"""
fragment DashboardId on Dashboard {
	id
}
"""

fragment DashboardLite on Dashboard {
	id,
	name,
	authorId,
	created,
	labels {
		...Label
	}
}

fragment DashboardDetail on Dashboard {
	id,
	name,
	authorId,
	created,
	labels {
		...Label
	},
	widgets {
		...WidgetId
	}
}


fragment WidgetId on Widget {
	id
}

fragment WidgetLite on Widget {
	id,
	name,
	created,
	type,
	labels {
		...Label
	}
}

fragment WidgetDetail on Widget {
	id,
	name,
	created,
	type,
	labels {
		...Label
	},
	columnMappings {
		...ColumnMapping
	}
}


"""
fragment DataSourceDefinitionId on DataSourceDefinition {
	id
}
"""

fragment DataSourceDefinitionLite on DataSourceDefinition {
	id,
	name,
	created,
	type,
	columns {
		...ExportedColumn
	}
}

fragment DataSourceDefinitionDetail on DataSourceDefinition {
	id,
	name,
	created,
	type,
	inputs,
	columns {
		...ExportedColumn
	}
}


fragment Label on LabelData {
	name
}

fragment ColumnMapping on ColumnMappingData {
	name,
	format,
	dataSourceId,
	sourceColumn
}

fragment ExportedColumn on ExportedColumnData {
	name,
	valueType
}