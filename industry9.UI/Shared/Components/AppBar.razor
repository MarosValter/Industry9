@using industry9.Shared.Store.AppBar
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@inject IState<AppBarState> AppBarState

<MatAppBar Fixed="true">
    <MatAppBarRow Style="@GetAppBarColorStyle()">
        <MatAppBarSection>
            <MatAppBarTitle>
                @AppBarState.Value.Title
            </MatAppBarTitle>
        </MatAppBarSection>
        <MatAppBarSection Align="@MatAppBarSectionAlign.End">
            <UserProfile/>
            <Login/>
        </MatAppBarSection>
    </MatAppBarRow>
</MatAppBar>

@code
{

    private string GetAppBarColorStyle()
    {
        return string.IsNullOrEmpty(AppBarState.Value.Color) ? string.Empty : $"background-color: {AppBarState.Value.Color}";
    }

}
